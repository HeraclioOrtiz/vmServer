<VirtualHost *:80>
    ServerName vmserver.local
    ServerAlias www.vmserver.local
    DocumentRoot "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer/public"
    
    <Directory "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer/public">
        AllowOverride All
        Require all granted
        Options Indexes FollowSymLinks
        DirectoryIndex index.php
    </Directory>
    
    # Configuración PHP
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>
    
    # Logs
    ErrorLog "logs/vmserver_error.log"
    CustomLog "logs/vmserver_access.log" combined
    
    # Configuración de seguridad
    <Directory "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer">
        <Files ".env">
            Require all denied
        </Files>
        <Files "composer.json">
            Require all denied
        </Files>
        <Files "composer.lock">
            Require all denied
        </Files>
    </Directory>
</VirtualHost>

# Configuración HTTPS (para producción)
<VirtualHost *:443>
    ServerName vmserver.local
    ServerAlias www.vmserver.local
    DocumentRoot "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer/public"
    
    SSLEngine on
    SSLCertificateFile "path/to/certificate.crt"
    SSLCertificateKeyFile "path/to/private.key"
    
    <Directory "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer/public">
        AllowOverride All
        Require all granted
        Options Indexes FollowSymLinks
        DirectoryIndex index.php
    </Directory>
    
    # Configuración PHP
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>
    
    # Logs
    ErrorLog "logs/vmserver_ssl_error.log"
    CustomLog "logs/vmserver_ssl_access.log" combined
    
    # Configuración de seguridad
    <Directory "F:/Laburo/Programacion/Laburo-Javi/VILLAMITRE/vmServer">
        <Files ".env">
            Require all denied
        </Files>
        <Files "composer.json">
            Require all denied
        </Files>
        <Files "composer.lock">
            Require all denied
        </Files>
    </Directory>
</VirtualHost>
